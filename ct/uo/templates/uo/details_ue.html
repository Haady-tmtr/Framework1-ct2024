{% extends "uo/menu.html" %}
{% load django_bootstrap5 %}

{% block title %} {{ ue.titre }} {% endblock %}

{% block content %}

<div class="container mt-4 mb-5">
    <div class="d-flex justify-content-between align-items-center">
        <h1>{{ ue.titre }}</h1>
        {% if can_modify %}
            <a href="{% url 'modifier_ue' ue.id %}" class="btn btn-warning">
                Modifier l'UE
            </a>
        {% endif %}

    </div>
    <hr>

    <div class="mt-3">
        <p><strong>Description :</strong> {{ ue.description }}</p>
        <p><strong>Heures de CM :</strong> {{ ue.cm }}</p>
        <p><strong>Heures de TD :</strong> {{ ue.td }}</p>
        <p><strong>Heures de TP :</strong> {{ ue.tp }}</p>
        <p><strong>Crédits :</strong> {{ ue.credits }}</p>
    </div>

    <h2 class="mt-5">Liste des formations</h2>
    <table class="table table-striped table-hover"> 
        <thead class="table-dark">
            <tr>
                <th>Intitulé</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for formation in formations %}
                <tr>
                    <td>{{ formation.intitule }}</td>
                    <td>
                        <a href="{% url 'details_formation' formation.id %}" class="btn btn-sm btn-info text-white">Voir les détails</a>
                    </td>
                </tr>    
            {% endfor %}
        </tbody>
    </table>

    <div class="mt-5">
        <h2>Les responsables</h2>
        <ul class="list-group">
            {% for responsable in responsables %}
                <li class="list-group-item">{{ responsable.last_name }} {{ responsable.first_name }}</li>
            {% endfor %}
        </ul>
    </div>
</div>

{% endblock %}